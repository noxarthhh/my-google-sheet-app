<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏° Image Slider</title>
    <link rel="stylesheet" href="index.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>
<body>

<div class="sidebar">
    <div class="logo">
        <a href="index.html">
            <img id="header-logo" src="image/67.png" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏£‡∏∞‡∏ö‡∏ö"> 
        </a>
    </div>
    <ul class="menu">
        <li class="menu-item"> 
            <a href="index.html"><i class="fas fa-home"></i> ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
        </li>
        <li class="menu-item"> 
            <a href="profile.html"><i class="fas fa-user"></i> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</a>
        </li>
        <li class="menu-item">
            <a href="save.html"><i class="fas fa-file-alt"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏≠‡∏ö‡∏£‡∏°</a>
        </li>
        <li class="menu-item">
            <a href="reward.html"><i class="fas fa-medal"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</a>
        </li>
        <li class="menu-item">
            <a href="dashboard.html"><i class="fas fa-chart-bar"></i> ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</a>
        </li>
        <li class="menu-item">
            <a href="setting.html"><i class="fas fa-cog"></i> ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</a>
        </li>
        <li class="menu-item">
            <a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a>
        </li>
    </ul>
</div>

<div class="main-content">
    
    <div id="logoutModal" class="modal">
        <div class="modal-content">
            <div class="modal-icon-container">
                <i class="fas fa-exclamation-triangle"></i> 
            </div>

            <div class="modal-title">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</div>
            <p>‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</p>

            <div class="modal-actions">
                <button class="modal-btn cancel-btn-red" onclick="hideLogoutModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button> 
                <button class="modal-btn confirm-btn-blue" onclick="confirmLogout()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
            </div>
        </div>
    </div>
    <div class="center-content">
        <h1 class="welcome-text">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£</h1> 
        
        <div class="slider-container">
            <div class="slider-wrapper">
                <img class="slide-item active" src="image/slide1.jpg" alt="‡∏™‡πÑ‡∏•‡∏î‡πå 1">
                <img class="slide-item" src="image/slide2.jpg" alt="‡∏™‡πÑ‡∏•‡∏î‡πå 2">
                <img class="slide-item" src="image/slide3.jpg" alt="‡∏™‡πÑ‡∏•‡∏î‡πå 3">
                <img class="slide-item" src="image/slide4.jpg" alt="‡∏™‡πÑ‡∏•‡∏î‡πå 4">
                <img class="slide-item" src="image/slide5.jpg" alt="‡∏™‡πÑ‡∏•‡∏î‡πå 5">
                <img class="slide-item" src="image/slide6.jpg" alt="‡∏™‡πÑ‡∏•‡∏î‡πå 6">
                <img class="slide-item" src="image/slide7.jpg" alt="‡∏™‡πÑ‡∏•‡∏î‡πå 7">
                <img class="slide-item" src="image/slide8.jpg" alt="‡∏™‡πÑ‡∏•‡∏î‡πå 8">
                <img class="slide-item" src="image/slide9.jpg" alt="‡∏™‡πÑ‡∏•‡∏î‡πå 9">
                <img class="slide-item" src="image/slide10.jpg" alt="‡∏™‡πÑ‡∏•‡∏î‡πå 10">
            </div>
            <button class="slide-btn prev" onclick="moveSlide(-1)">&#10094;</button>
            <button class="slide-btn next" onclick="moveSlide(1)">&#10095;</button>
            
            <div class="slide-dots">
            </div>
        </div>

    </div>
</div>

<div id="welcomeModal" class="modal">
    <div class="modal-content">
        
        <div class="profile-icon" onclick="closeModal()">
            <img id="userProfilePic" src="path/to/default/profile.png" alt="‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå">
        </div>
        
        <h2 class="modal-title">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤ ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏à‡∏ô‡∏ô‡∏¥‡πÄ‡∏ü‡∏≠‡∏£‡πå ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö! üéâ</h2> 
        
        <p>‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏£‡∏≤‡∏ö‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô</p>
        <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤ <button class="modal-btn" onclick="closeModal()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</button> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö</p>
    </div>
</div>

<script>
    // ******************************************************
    // ‚ú® JavaScript ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Image Slider/Carousel (‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
    // ******************************************************
    let slideIndex = 1;
    const slides = document.querySelectorAll('.slide-item');
    const dotsContainer = document.querySelector('.slide-dots');
    const autoSlideInterval = 5000; // <<< 5000ms = 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    let timer;

    function showSlides(n) {
        let i;
        if (n > slides.length) { 
            slideIndex = 1;
        }
        if (n < 1) {
            slideIndex = slides.length;
        }
        for (i = 0; i < slides.length; i++) {
            slides[i].classList.remove('active');
        }
        const dots = document.querySelectorAll('.dot');
        for (i = 0; i < dots.length; i++) {
            dots[i].classList.remove('active');
        }
        if (slides[slideIndex - 1]) {
            slides[slideIndex - 1].classList.add('active');
        }
        if (dots.length > 0 && dots[slideIndex - 1]) {
            dots[slideIndex - 1].classList.add('active');
        }
        // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å resetTimer ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÉ‡∏´‡∏°‡πà
        resetTimer();
    }

    function moveSlide(n) {
        showSlides(slideIndex += n);
    }

    function currentSlide(n) {
        showSlides(slideIndex = n);
    }

    function createDots() {
        if (dotsContainer) {
            dotsContainer.innerHTML = ''; 
            for (let i = 0; i < slides.length; i++) {
                const dot = document.createElement('span');
                dot.classList.add('dot');
                dot.setAttribute('onclick', `currentSlide(${i + 1})`);
                dotsContainer.appendChild(dot);
            }
        }
    }

    function startAutoSlide() {
        // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ interval ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å showSlides() ‡∏ó‡∏∏‡∏Å 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
        timer = setInterval(() => {
            showSlides(slideIndex += 1);
        }, autoSlideInterval);
    }

    function resetTimer() {
        // ‡∏•‡πâ‡∏≤‡∏á timer ‡πÄ‡∏î‡∏¥‡∏°
        clearInterval(timer);
        // ‡πÄ‡∏£‡∏¥‡πà‡∏° timer ‡πÉ‡∏´‡∏°‡πà
        startAutoSlide();
    }
    
    // ----------------------------------------------------------------------------------
    // ‡πÇ‡∏Ñ‡πâ‡∏î JavaScript ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Modal, Theme, Logout, Active Menu 
    // ----------------------------------------------------------------------------------

    // Welcome Modal Functions
    function openModal() {
        const modal = document.getElementById('welcomeModal');
        if (modal) modal.classList.add('show');
        // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î Modal ‡πÉ‡∏´‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏•‡πâ‡∏ß
        localStorage.setItem('hasSeenWelcomeModal', 'true');
    }

    function closeModal() {
        const modal = document.getElementById('welcomeModal');
        if (modal) modal.classList.remove('show');
    }
    
    // Logout Modal Functions
    const logoutModal = document.getElementById('logoutModal');
    const logoutButton = document.getElementById('logout-btn');

    function showLogoutModal(e) {
        if (e) e.preventDefault();
        if (logoutModal) logoutModal.classList.add('show');
    }

    function hideLogoutModal() {
        if (logoutModal) logoutModal.classList.remove('show');
    }

    function confirmLogout() {
        hideLogoutModal();
        // ‡∏•‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Login ‡πÅ‡∏•‡∏∞ Modal ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Logout
        localStorage.removeItem('isLoggedIn'); 
        localStorage.removeItem('userName');
        localStorage.removeItem('hasSeenWelcomeModal'); // <<< ‡∏•‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Modal ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
        window.location.replace('login.html'); 
    }

    if (logoutButton) {
        logoutButton.addEventListener('click', showLogoutModal);
    }
    if (logoutModal) {
        logoutModal.addEventListener('click', function(e) {
            if (e.target === this) {
                hideLogoutModal();
            }
        });
    }

    // Theme Functions (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á)
    function toggleTheme(theme) {
        const body = document.body;
        body.classList.remove('light-mode', 'dark-mode'); 

        if (theme === 'dark') {
            body.classList.add('dark-mode');
            localStorage.setItem('theme', 'dark'); 
        } else {
            localStorage.setItem('theme', 'light');
        }
    }

    function loadTheme() {
        const savedTheme = localStorage.getItem('theme') || 'light';
        toggleTheme(savedTheme); 
    }

    // Active State for Sidebar (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á)
    function setActiveMenuItem() {
        const currentPath = window.location.pathname.split('/').pop();
        const menuItems = document.querySelectorAll('.menu-item a');

        menuItems.forEach(link => {
            const linkPath = link.getAttribute('href'); 
            const parentItem = link.closest('.menu-item');

            if (linkPath === currentPath || (currentPath === '' && linkPath === 'index.html')) {
                parentItem.classList.add('active');
            } else {
                parentItem.classList.remove('active');
            }
        });
    }

    // Update Welcome Modal Text (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á)
    function getGreetingTime(hours) {
        if (hours < 12) return "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏¢‡∏≤‡∏°‡πÄ‡∏ä‡πâ‡∏≤";
        if (hours < 18) return "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏¢‡∏≤‡∏°‡∏ö‡πà‡∏≤‡∏¢";
        return "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏¢‡∏≤‡∏°‡πÄ‡∏¢‡πá‡∏ô";
    }

    function updateWelcomeModal() {
        const userName = localStorage.getItem('userName') || "‡πÄ‡∏à‡∏ô‡∏ô‡∏¥‡πÄ‡∏ü‡∏≠‡∏£‡πå"; 
        const currentHour = new Date().getHours();
        const greeting = getGreetingTime(currentHour);
        
        const newTitle = `${greeting} ‡∏Ñ‡∏∏‡∏ì${userName} ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö! üéâ`;
        const modalTitleElement = document.querySelector('#welcomeModal .modal-title');
        if (modalTitleElement) {
            modalTitleElement.innerHTML = newTitle;
        }
        const userProfileImageUrl = "path/to/actual/user/profile.jpg"; 
        const profilePicElement = document.getElementById('userProfilePic');
        if (profilePicElement && userProfileImageUrl) {
            profilePicElement.src = userProfileImageUrl;
        }
    }

    // Login Status Check (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á)
    function checkLoginStatus() {
        const isLoggedIn = localStorage.getItem('isLoggedIn');
        if (isLoggedIn !== 'true') {
            window.location.replace('login.html'); 
        }
    }


    // Event Listeners (‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à)
    document.addEventListener('DOMContentLoaded', function() {
        // Start Slider
        if (slides.length > 0) {
            createDots();
            showSlides(slideIndex);
            startAutoSlide(); 
        }
        
        // Other initial setup
        checkLoginStatus(); 
        loadTheme();
        setActiveMenuItem();
        updateWelcomeModal();
    });

    // ******************************************************
    // üîë ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î Modal ‡πÉ‡∏´‡πâ‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£ Login
    // ******************************************************
    window.onload = function() {
        const hasSeen = localStorage.getItem('hasSeenWelcomeModal');
        
        // ‡∏ñ‡πâ‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏´‡πá‡∏ô Modal ‡πÉ‡∏ô‡∏£‡∏≠‡∏ö Login ‡∏ô‡∏µ‡πâ (hasSeen ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô 'true')
        if (hasSeen !== 'true') {
            openModal(); // ‡πÄ‡∏õ‡∏¥‡∏î Modal
        }
    };
    
    // (‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á)
    window.onclick = function(event) {
        const modal = document.getElementById('welcomeModal');
        if (event.target == modal) {
            closeModal();
        }
    }

    // ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Submenu (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á)
    document.querySelectorAll('.submenu-toggle').forEach(item => {
        item.addEventListener('click', event => {
            event.preventDefault(); 
            const parentLi = item.closest('.menu-item');
            const submenu = parentLi.querySelector('.submenu');
            const icon = parentLi.querySelector('.submenu-icon');
            parentLi.classList.toggle('active');

            if (parentLi.classList.contains('active')) {
                submenu.style.maxHeight = submenu.scrollHeight + "px";
                if (icon) icon.style.transform = "rotate(180deg)";
            } else {
                submenu.style.maxHeight = "0";
                if (icon) icon.style.transform = "rotate(0deg)";
            }
        });
    });

</script>

</body>
</html>